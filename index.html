<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EKS Electrical Pro Converter</title>
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/616/616494.png">
    <style>
        :root {
            --primary: #007AFF;
            --bg: #f5f5f7;
            --card: #ffffff;
            --text: #1d1d1f;
            --accent: #5e5e62;
        }

        [data-theme="dark"] {
            --bg: #000000;
            --card: #1c1c1e;
            --text: #ffffff;
            --accent: #8e8e93;
        }

        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); margin: 0; transition: 0.3s; }
        
        /* Header */
        .header { background: var(--card); padding: 20px; text-align: center; box-shadow: 0 1px 0 rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
        .header h1 { margin: 0; font-size: 20px; color: var(--primary); }
        
        /* Tab Navigation */
        .tabs { display: flex; overflow-x: auto; background: var(--card); padding: 10px 5px; scrollbar-width: none; border-bottom: 1px solid rgba(0,0,0,0.1); }
        .tab-btn { padding: 8px 16px; margin: 0 5px; border: none; background: none; color: var(--accent); cursor: pointer; border-radius: 20px; font-weight: 500; white-space: nowrap; transition: 0.2s; }
        .tab-btn.active { background: var(--primary); color: white; }

        /* Content Area */
        .container { padding: 20px; max-width: 600px; margin: auto; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease; }

        /* UI Elements */
        .card { background: var(--card); padding: 20px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 20px; }
        h3 { margin-top: 0; font-size: 18px; border-left: 4px solid var(--primary); padding-left: 10px; }
        
        label { display: block; margin-bottom: 8px; font-size: 13px; color: var(--accent); font-weight: 500; }
        input, select { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 10px; background: var(--bg); color: var(--text); font-size: 16px; box-sizing: border-box; outline: none; }
        input:focus { border-color: var(--primary); }

        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { padding: 14px; border: none; border-radius: 10px; cursor: pointer; font-size: 15px; font-weight: 600; transition: 0.2s; }
        .btn-calc { background: var(--primary); color: white; }
        .btn-clear { background: #e5e5ea; color: #3a3a3c; }
        
        .result-area { margin-top: 15px; background: #007AFF15; border-radius: 12px; padding: 15px; text-align: center; }
        .res-val { font-size: 24px; font-weight: bold; color: var(--primary); margin: 5px 0; }
        .copy-btn { font-size: 12px; color: var(--primary); cursor: pointer; text-decoration: underline; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Theme Toggle */
        .theme-toggle { position: absolute; right: 20px; top: 20px; cursor: pointer; font-size: 20px; }
    </style>
</head>
<body>

<div class="header">
    <div class="theme-toggle" onclick="toggleTheme()">ðŸŒ“</div>
    <h1>âš¡ EKS Pro Converter</h1>
</div>

<div class="tabs" id="tabBar">
    <button class="tab-btn active" onclick="showTab('ac')">AC Power</button>
    <button class="tab-btn" onclick="showTab('motor')">Motor Tool</button>
    <button class="tab-btn" onclick="showTab('cable')">Cable/Wire</button>
    <button class="tab-btn" onclick="showTab('basic')">Converters</button>
</div>

<div class="container">
    <div id="ac" class="tab-content active">
        <div class="card">
            <h3>AC Power (kW / kVA / Amp)</h3>
            <label>Phase</label>
            <select id="ac_phase">
                <option value="1">Single Phase (230V)</option>
                <option value="3">Three Phase (400V)</option>
            </select>
            <label>Voltage (V)</label>
            <input type="number" id="ac_v" value="400">
            <label>Current (Amps)</label>
            <input type="number" id="ac_i" placeholder="Enter Amps">
            <label>Power Factor (PF)</label>
            <input type="number" id="ac_pf" value="0.8">
            <div class="btn-group">
                <button class="btn-calc" onclick="calcAC()">Calculate</button>
                <button class="btn-clear" onclick="clearInputs(['ac_i'])">Clear</button>
            </div>
            <div class="result-area">
                <div class="res-val" id="res_kw">0.00 kW</div>
                <div class="res-val" id="res_kva">0.00 kVA</div>
                <span class="copy-btn" onclick="copyRes('res_kw')">Copy Result</span>
            </div>
        </div>
    </div>

    <div id="motor" class="tab-content">
        <div class="card">
            <h3>Motor Power (HP to kW)</h3>
            <label>Horsepower (HP)</label>
            <input type="number" id="mot_hp" placeholder="Enter HP">
            <button class="btn-calc" onclick="calcMotor()">Convert to kW</button>
            <div class="result-area">
                <div class="res-val" id="res_mot">0.00 kW</div>
            </div>
        </div>
        <div class="card">
            <h3>Synchronous Speed (RPM)</h3>
            <label>Frequency (Hz)</label>
            <input type="number" id="mot_hz" value="50">
            <label>No. of Poles (P)</label>
            <select id="mot_p">
                <option value="2">2 Poles</option>
                <option value="4" selected>4 Poles</option>
                <option value="6">6 Poles</option>
            </select>
            <button class="btn-calc" onclick="calcRPM()">Find RPM</button>
            <div class="result-area">
                <div class="res-val" id="res_rpm">0 RPM</div>
            </div>
        </div>
    </div>

    <div id="cable" class="tab-content">
        <div class="card">
            <h3>Voltage Drop Calculator</h3>
            <label>Distance (Meters)</label>
            <input type="number" id="v_dist" placeholder="Enter Length">
            <label>Current (Amps)</label>
            <input type="number" id="v_amp" placeholder="Enter Amps">
            <label>Cable Size (mmÂ²)</label>
            <input type="number" id="v_size" placeholder="Enter mmÂ²">
            <button class="btn-calc" onclick="calcVDrop()">Calculate Drop</button>
            <div class="result-area">
                <div class="res-val" id="res_vdrop">0.00 V</div>
            </div>
        </div>
    </div>

    <div id="basic" class="tab-content">
        <div class="card">
            <h3>All Unit Converter</h3>
            <label>From</label>
            <input type="number" id="conv_val" placeholder="Value">
            <select id="conv_type">
                <option value="kw_hp">kW to HP</option>
                <option value="hp_kw">HP to kW</option>
                <option value="w_kw">Watts to kW</option>
                <option value="c_f">Celsius to Fahrenheit</option>
            </select>
            <button class="btn-calc" onclick="unitConv()">Convert</button>
            <div class="result-area">
                <div class="res-val" id="res_unit">0.00</div>
            </div>
        </div>
    </div>
</div>

<script>
    function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function toggleTheme() {
        const body = document.body;
        body.getAttribute('data-theme') === 'dark' ? body.removeAttribute('data-theme') : body.setAttribute('data-theme', 'dark');
    }

    function calcAC() {
        let ph = document.getElementById('ac_phase').value;
        let v = parseFloat(document.getElementById('ac_v').value) || 0;
        let i = parseFloat(document.getElementById('ac_i').value) || 0;
        let pf = parseFloat(document.getElementById('ac_pf').value) || 0;
        let kw = (ph == "1") ? (v * i * pf / 1000) : (1.732 * v * i * pf / 1000);
        let kva = kw / pf;
        document.getElementById('res_kw').innerText = kw.toFixed(2) + " kW";
        document.getElementById('res_kva').innerText = kva.toFixed(2) + " kVA";
    }

    function calcMotor() {
        let hp = parseFloat(document.getElementById('mot_hp').value) || 0;
        document.getElementById('res_mot').innerText = (hp * 0.746).toFixed(2) + " kW";
    }

    function calcRPM() {
        let f = parseFloat(document.getElementById('mot_hz').value) || 0;
        let p = parseFloat(document.getElementById('mot_p').value);
        let rpm = (120 * f) / p;
        document.getElementById('res_rpm').innerText = rpm.toFixed(0) + " RPM";
    }

    function calcVDrop() {
        let l = parseFloat(document.getElementById('v_dist').value) || 0;
        let i = parseFloat(document.getElementById('v_amp').value) || 0;
        let s = parseFloat(document.getElementById('v_size').value) || 1;
        // Simplified formula V = (2 * L * I * 0.017) / S
        let drop = (2 * l * i * 0.018) / s;
        document.getElementById('res_vdrop').innerText = drop.toFixed(2) + " Volts";
    }

    function unitConv() {
        let v = parseFloat(document.getElementById('conv_val').value) || 0;
        let t = document.getElementById('conv_type').value;
        let r = 0;
        if(t=="kw_hp") r = v / 0.746;
        if(t=="hp_kw") r = v * 0.746;
        if(t=="w_kw") r = v / 1000;
        if(t=="c_f") r = (v * 9/5) + 32;
        document.getElementById('res_unit').innerText = r.toFixed(2);
    }

    function clearInputs(ids) { ids.forEach(id => document.getElementById(id).value = ""); }

    function copyRes(id) {
        let text = document.getElementById(id).innerText;
        navigator.clipboard.writeText(text);
        alert("Copied: " + text);
    }
</script>
</body>
</html>

